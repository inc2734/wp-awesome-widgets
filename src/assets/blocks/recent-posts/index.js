(()=>{"use strict";var e={n:s=>{var o=s&&s.__esModule?()=>s.default:()=>s;return e.d(o,{a:o}),o},d:(s,o)=>{for(var t in o)e.o(o,t)&&!e.o(s,t)&&Object.defineProperty(s,t,{enumerable:!0,get:o[t]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)};const s=window.wp.blocks,o=window.wp.primitives,t=window.ReactJSXRuntime,n=(0,t.jsx)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)(o.Path,{d:"M18 5.5H6a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h12a.5.5 0 0 0 .5-.5V6a.5.5 0 0 0-.5-.5ZM6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm1 5h1.5v1.5H7V9Zm1.5 4.5H7V15h1.5v-1.5ZM10 9h7v1.5h-7V9Zm7 4.5h-7V15h7v-1.5Z"})}),a=JSON.parse('{"UU":"wp-awesome-widgets/recent-posts"}'),i=window.wp.serverSideRender;var l=e.n(i);const r=window.wp.blockEditor,w=window.wp.data,c=window.wp.element,d=window.wp.i18n,p=window.wp.components,m=(e,s=0,o=null)=>(e=Number(e),(isNaN(e)||e<s)&&(e=s),null!==o&&e>o&&(e=o),e);(0,s.registerBlockType)(a.UU,{icon:n,edit:function({attributes:e,setAttributes:s,clientId:o}){const{postType:a,postsPerPage:i,showThumbnail:h,showTaxonomy:u}=e;(0,c.useEffect)((()=>{e.clientId||s({clientId:o})}),[o]);const g=(0,w.useSelect)((e=>{const{getPostTypes:s}=e("core");return s({per_page:-1})||[]}),[]),b=(0,c.useMemo)((()=>g.filter((e=>e.viewable&&!e.hierarchical&&"media"!==e.rest_base))),[g]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.InspectorControls,{children:(0,t.jsxs)(p.PanelBody,{title:(0,d.__)("Block Settings","inc2734-wp-awesome-widgets"),children:[(0,t.jsx)(p.SelectControl,{label:(0,d.__)("Post Type","inc2734-wp-awesome-widgets"),value:a,onChange:e=>s({postType:e}),options:b.map((e=>({label:e.name,value:e.slug})))}),(0,t.jsx)(p.RangeControl,{label:(0,d.__)("Number of posts","inc2734-wp-awesome-widgets"),value:i,onChange:e=>s({postsPerPage:m(e,1,12)}),min:"1",max:"12"}),(0,t.jsx)(p.ToggleControl,{label:(0,d.__)("Display thumbnail","inc2734-wp-awesome-widgets"),checked:h,onChange:e=>s({showThumbnail:e})}),(0,t.jsx)(p.ToggleControl,{label:(0,d.__)("Display taxonomy","inc2734-wp-awesome-widgets"),checked:u,onChange:e=>s({showTasonomy:e})})]})}),(0,t.jsx)("div",{...(0,r.useBlockProps)(),children:g?(0,t.jsx)(p.Disabled,{children:(0,t.jsx)(l(),{block:"wp-awesome-widgets/recent-posts",attributes:e})}):(0,t.jsx)(p.Placeholder,{icon:n,label:(0,d.__)("Recent posts","inc2734-wp-awesome-widgets"),children:(0,t.jsx)(p.Spinner,{})})})]})},save:function({attributes:e}){const{anchor:s}=e;return(0,t.jsx)("div",{...r.useInnerBlocksProps.save({className:"wp-block-wp-awesome-widgets-recent-posts"}),"data-dynamic-block":"wp-awesome-widgets/recent-posts","data-version":"1",id:s||void 0})}})})();