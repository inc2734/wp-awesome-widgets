(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.wp.element,o=window.wp.primitives,s=(0,n.createElement)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(o.Path,{d:"M18 4H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h12c.3 0 .5.2.5.5v12zM7 11h2V9H7v2zm0 4h2v-2H7v2zm3-4h7V9h-7v2zm0 4h7v-2h-7v2z"})),a=JSON.parse('{"u2":"wp-awesome-widgets/recent-posts"}'),l=window.wp.serverSideRender;var c=e.n(l);const r=window.wp.blockEditor,i=window.wp.data,w=window.wp.i18n,p=window.wp.components,m=(e,t=0,n=null)=>(e=Number(e),(isNaN(e)||e<t)&&(e=t),null!==n&&e>n&&(e=n),e);(0,t.registerBlockType)(a.u2,{icon:s,edit:function({attributes:e,setAttributes:t,clientId:o}){const{postType:a,postsPerPage:l,showThumbnail:d,showTaxonomy:u}=e;(0,n.useEffect)((()=>{e.clientId||t({clientId:o})}),[o]);const g=(0,i.useSelect)((e=>{const{getPostTypes:t}=e("core");return t({per_page:-1})||[]}),[]),h=(0,n.useMemo)((()=>g.filter((e=>e.viewable&&!e.hierarchical&&"media"!==e.rest_base))),[g]);return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(r.InspectorControls,null,(0,n.createElement)(p.PanelBody,{title:(0,w.__)("Block Settings","inc2734-wp-awesome-widgets")},(0,n.createElement)(p.SelectControl,{label:(0,w.__)("Post Type","inc2734-wp-awesome-widgets"),value:a,onChange:e=>t({postType:e}),options:h.map((e=>({label:e.name,value:e.slug})))}),(0,n.createElement)(p.RangeControl,{label:(0,w.__)("Number of posts","inc2734-wp-awesome-widgets"),value:l,onChange:e=>t({postsPerPage:m(e,1,12)}),min:"1",max:"12"}),(0,n.createElement)(p.ToggleControl,{label:(0,w.__)("Display thumbnail","inc2734-wp-awesome-widgets"),checked:d,onChange:e=>t({showThumbnail:e})}),(0,n.createElement)(p.ToggleControl,{label:(0,w.__)("Display taxonomy","inc2734-wp-awesome-widgets"),checked:u,onChange:e=>t({showTasonomy:e})}))),(0,n.createElement)("div",{...(0,r.useBlockProps)()},g?(0,n.createElement)(p.Disabled,null,(0,n.createElement)(c(),{block:"wp-awesome-widgets/recent-posts",attributes:e})):(0,n.createElement)(p.Placeholder,{icon:s,label:(0,w.__)("Recent posts","inc2734-wp-awesome-widgets")},(0,n.createElement)(p.Spinner,null))))},save:function({attributes:e}){const{anchor:t}=e;return(0,n.createElement)("div",{...r.useInnerBlocksProps.save({className:"wp-block-wp-awesome-widgets-recent-posts"}),"data-dynamic-block":"wp-awesome-widgets/recent-posts","data-version":"1",id:t||void 0})}})})();