!function(e){var t={};function i(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=1)}([function(e,t){e.exports=jQuery},function(e,t,i){"use strict";i.r(t);var a=i(0),n=i.n(a);n()(function(){var e=function(e){e.find(".wpaw-color-picker-field__input").each(function(e,t){var i=n()(t);i.wpColorPicker({change:function(){i.trigger("input")}})})};n()(document).on("widget-added widget-updated",function(t,i){e(i)}),n()(document).on("wpaw-repeaters-add-repeater",function(t,i){var a=i.repeater;a.find(".wpaw-color-picker-field").each(function(e,t){var i=n()(t).find(".wpaw-color-picker-field__input").clone(!1),a=n()(t).find(".wp-picker-container");a.before(i),a.remove()}),e(a)}),n()("#widgets-right .widget:has(.wpaw-color-picker-field__input) .widget-inside").each(function(t,i){e(n()(i))})}),n()(function(){function e(e){var t=e.closest(".wpaw-item-selector").find(".wpaw-item-selector__input"),i=e.find(".wpaw-item-selector__selected-item").map(function(e,t){return n()(t).attr("data-post-id")}).get();t.val(i).trigger("change")}function t(e){e.find(".wpaw-item-selector__selected-items");var t=e.find(".wpaw-item-selector__items"),i=e.find(".wpaw-item-selector__post-type").val(),a="";a="?per_page="+t.attr("data-per-page"),a+="&offset="+t.attr("data-offset");var r=t.data("jqxhr");r&&void 0!==r&&(r.abort(),t.attr("data-loading","false")),"true"!==t.attr("data-loading")&&(t.append('<span class="spinner"></span>'),t.attr("data-loading","true"),r=function(e,t){return n.a.ajax({dataType:"json",type:"GET",url:wp_awesome_widgets_item_selector_wp_api.root+"wp/v2/"+e+t})}(i,a).done(function(e){!function(e,t){t.forEach(function(t){var i=t.title.rendered?t.title.rendered:"&nbsp;";n()('<li class="wpaw-item-selector__item" />').attr("data-post-id",t.id).attr("data-post-title",t.title.rendered).html('<span class="dashicons dashicons-plus" />'+i).appendTo(e)})}(t,e),t.attr("data-offset",parseInt(t.attr("data-offset"))+parseInt(t.attr("data-per-page")))}).fail(function(){console.error("Read failed or canceled.")}).always(function(){t.find(".spinner").remove(),t.attr("data-loading","false")}),t.data("jqxhr",r))}n()(document).on("click",".wpaw-item-selector__item",function(t){var i=n()(t.currentTarget).closest(".wpaw-item-selector"),a=i.find(".wpaw-item-selector__selected-items"),r=(i.find(".wpaw-item-selector__input"),n()(t.currentTarget).attr("data-post-title")||"&nbsp"),o=n()('<li class="wpaw-item-selector__selected-item" />').attr("data-post-id",n()(t.currentTarget).attr("data-post-id")).html('<span class="dashicons dashicons-minus" />'+r);a.find('[data-post-id="'+n()(t.currentTarget).attr("data-post-id")+'"]').length||(o.appendTo(a),e(a))}),n()(document).on("mouseover",".wpaw-item-selector__selected-items",function(t){var i=n()(t.currentTarget);n()(t.currentTarget).sortable({update:function(t,a){e(i)}}),n()(t.currentTarget).disableSelection()}),n()(document).on("click",".wpaw-item-selector__selected-item",function(t){var i=n()(t.currentTarget).closest(".wpaw-item-selector").find(".wpaw-item-selector__selected-items");n()(t.currentTarget).remove(),e(i)}),n()(document).on("widget-added widget-updated",function(e,i){var a=i.find(".wpaw-item-selector");1>a.length||t(a)}),n()("#widgets-right .widget:has(.wpaw-item-selector) .widget-inside").each(function(e,i){var a=n()(i).find(".wpaw-item-selector");1>a.length||t(a)}),n()(document).on("click",".wpaw-item-selector__refresh-btn",function(e){var i=n()(e.currentTarget).closest(".wpaw-item-selector"),a=(i.find(".wpaw-item-selector__selected-items"),i.find(".wpaw-item-selector__items"));a.attr("data-offset",0),a.empty(),t(i)}),n()(document).on("change",".wpaw-item-selector__post-type",function(i){var a=n()(i.currentTarget).closest(".wpaw-item-selector"),r=a.find(".wpaw-item-selector__selected-items"),o=a.find(".wpaw-item-selector__items");o.attr("data-offset",0),r.empty(),e(r),o.empty(),t(a)}),document.addEventListener("scroll",function(e){n()(e.target).hasClass("wpaw-item-selector__items")&&(n()(e.target).get(0).scrollHeight-n()(e.target).height()>n()(e.target).scrollTop()||t(n()(e.target).closest(".wpaw-item-selector")))},!0)}),n()(function(){n()(document).on("click",".wpaw-repeaters__add-repeater-btn",function(e){e.preventDefault();var t=n()(e.currentTarget).closest(".wpaw-widget-form"),i=t.find(".wpaw-repeaters__item").first().clone(!0);i.find("input, select, textarea, button").each(function(e,t){n()(t).on("change",function(){var e=i.closest(".form, form");e.find(".widget-control-save").css("display","inline-block"),e.find(".widget-control-save").trigger("click")})}),t.find(".wpaw-repeaters__items").append(i),t.find(".wpaw-repeaters__item").each(function(e,t){var i=e;n()(t).find("input, select, textarea, button").each(function(e,t){var a=n()(t);if(void 0===a.attr("name"))return!0;a.attr("name",n()(t).attr("name").replace(/\[\s*\d+\s*\](\[[^\[\]]+\])$/,"["+i+"]$1")),a.attr("id",n()(t).attr("id").replace(/\[\s*\d+\s*\](\[[^\[\]]+\])$/,"["+i+"]$1")),a.on("touchstart",function(){a.focus()})})}),n()(document).trigger("wpaw-repeaters-add-repeater",{repeater:i,widget:t})}),n()(document).on("click",".wpaw-repeaters__item-controls .button-link-delete",function(e){e.preventDefault();var t=n()(e.currentTarget),i=t.closest(".form, form");t.closest(".wpaw-repeaters__item").remove(),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")}),n()(document).on("mouseover",".wpaw-repeaters__items",function(e){n()(e.currentTarget).sortable()})}),n()(function(){n()(document).on("click",".wpaw-thumbnail-field__set-image-btn",function(e){e.preventDefault();var t=n()(e.currentTarget),i=t.closest(".form, form"),a=t.closest(".wpaw-thumbnail-field"),r=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1});r.on("select",function(){var e=r.state().get("selection").first().toJSON(),t=void 0!==e.sizes.medium?e.sizes.medium.url:e.sizes.full.url,o=n()("<img/>").attr("src",t);a.find(".wpaw-thumbnail-field__thumbnail").empty().append(o),a.find(".wpaw-thumbnail-field__input-image").val(e.id),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")}).open()}),n()(document).on("click",".wpaw-thumbnail-field__unset-image-btn",function(e){e.preventDefault();var t=n()(e.currentTarget),i=t.closest(".form, form"),a=t.closest(".wpaw-thumbnail-field");a.find(".wpaw-thumbnail-field__thumbnail").empty(),a.find(".wpaw-thumbnail-field__input-image").val(""),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")})}),n()(function(){n()(document).on("wpaw-repeaters-add-repeater",function(e,t){var i=t.repeater;i.find(".wpaw-thumbnail-field__thumbnail").empty(),i.find(".wpaw-thumbnail-field__input-image").val(""),i.find(".wpaw-pr-box-widget__input-title").val(""),i.find(".wpaw-pr-box-widget__input-summary").val("")})}),n()(function(){n()(document).on("wpaw-repeaters-add-repeater",function(e,t){var i=t.repeater;i.find(".wpaw-thumbnail-field__thumbnail").empty(),i.find(".wpaw-thumbnail-field__input-image").val("")}),n()(document).on("change",".js-wpaw-slider-widget-type",function(e){var t=n()(e.currentTarget).closest(".wpaw-widget-form");"slide"===n()(e.currentTarget).val()?t.find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","false"):t.find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","true")}),n()('[id*="inc2734_wp_awesome_widgets_slider"]').on("click",function(e){"slide"===n()(e.currentTarget).find(".js-wpaw-slider-widget-type").val()?n()(e.currentTarget).find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","false"):n()(e.currentTarget).find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","true")})})}]);