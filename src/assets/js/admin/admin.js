!function(){"use strict";var e={n:function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,{a:a}),a},d:function(t,a){for(var i in a)e.o(a,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:a[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.jQuery,a=e.n(t);a()((()=>{const e=e=>{e.find(".wpaw-color-picker-field__input").each(((e,t)=>{var i=a()(t);i.wpColorPicker({change:function(){i.trigger("input")}})}))};a()(document).on("widget-added widget-updated",((t,a)=>{e(a)})),a()(document).on("wpaw-repeaters-add-repeater",((t,i)=>{const r=i.repeater;r.find(".wpaw-color-picker-field").each(((e,t)=>{const i=a()(t).find(".wpaw-color-picker-field__input").clone(!1),r=a()(t).find(".wp-picker-container");r.before(i),r.remove()})),e(r)})),a()("#widgets-right .widget:has(.wpaw-color-picker-field__input) .widget-inside").each(((t,i)=>{e(a()(i))}))})),a()((()=>{function e(e){const t=e.closest(".wpaw-item-selector").find(".wpaw-item-selector__input"),i=e.find(".wpaw-item-selector__selected-item").map(((e,t)=>a()(t).attr("data-post-id"))).get();t.val(i).trigger("change")}function t(e){e.find(".wpaw-item-selector__selected-items");const t=e.find(".wpaw-item-selector__items"),i=e.find(".wpaw-item-selector__post-type").val(),r=e.find(".wpaw-item-selector__search__input").val();let n="";n="?per_page="+t.attr("data-per-page"),n+="&offset="+t.attr("data-offset"),r&&(n+="&search="+r),"true"!==t.attr("data-loading")&&"true"!==t.attr("data-failed")&&(t.append('<span class="spinner"></span>'),t.attr("data-loading","true"),function(e,t){const i=wp_awesome_widgets_item_selector_wp_api.root.match(/\?/)?t.replace("?","&"):t;return a().ajax({dataType:"json",type:"GET",url:wp_awesome_widgets_item_selector_wp_api.root+"wp/v2/"+e+i})}(i,n).done((e=>{0<e.length?(function(e,t){t.forEach((t=>{const i=t.title.rendered?t.title.rendered:"&nbsp;";a()('<li class="wpaw-item-selector__item" />').attr("data-post-id",t.id).attr("data-post-title",t.title.rendered).append('<span class="dashicons dashicons-plus" />').append(i).appendTo(e)}))}(t,e),t.attr("data-offset",parseInt(t.attr("data-offset"))+parseInt(t.attr("data-per-page")))):t.attr("data-failed","true")})).fail((()=>{console.error("Read failed or canceled."),t.attr("data-failed","true")})).always((()=>{t.find(".spinner").remove(),t.attr("data-loading","false")})))}a()(document).on("click",".wpaw-item-selector__item",(t=>{const i=a()(t.currentTarget).closest(".wpaw-item-selector"),r=i.find(".wpaw-item-selector__selected-items"),n=(i.find(".wpaw-item-selector__input"),a()(t.currentTarget).attr("data-post-title")||"&nbsp"),s=a()('<li class="wpaw-item-selector__selected-item" />').attr("data-post-id",a()(t.currentTarget).attr("data-post-id")).append('<span class="dashicons dashicons-minus" />').append(n);r.find('[data-post-id="'+a()(t.currentTarget).attr("data-post-id")+'"]').length||(s.appendTo(r),e(r))})),a()(document).on("mouseover",".wpaw-item-selector__selected-items",(t=>{const i=a()(t.currentTarget);a()(t.currentTarget).sortable({update:(t,a)=>{e(i)}}),a()(t.currentTarget).disableSelection()})),a()(document).on("click",".wpaw-item-selector__selected-item",(t=>{const i=a()(t.currentTarget).closest(".wpaw-item-selector").find(".wpaw-item-selector__selected-items");a()(t.currentTarget).remove(),e(i)})),a()(document).on("widget-added widget-updated",((e,a)=>{const i=a.find(".wpaw-item-selector");1>i.length||t(i)})),a()("#widgets-right .widget:has(.wpaw-item-selector) .widget-inside").each(((e,i)=>{var r=a()(i).find(".wpaw-item-selector");1>r.length||t(r)})),a()(document).on("click",".wpaw-item-selector__refresh-btn",(e=>{const i=a()(e.currentTarget).closest(".wpaw-item-selector"),r=(i.find(".wpaw-item-selector__selected-items"),i.find(".wpaw-item-selector__items"));r.attr("data-offset",0),r.empty(),t(i)})),a()(document).on("change",".wpaw-item-selector__post-type",(i=>{const r=a()(i.currentTarget).closest(".wpaw-item-selector"),n=r.find(".wpaw-item-selector__selected-items"),s=r.find(".wpaw-item-selector__items"),d=r.find(".wpaw-item-selector__search__input");s.attr("data-offset",0),s.attr("data-failed","false"),n.empty(),e(n),d.val(""),s.empty(),t(r)})),a()(document).on("input",".wpaw-item-selector__search__input",(e=>{const i=a()(e.currentTarget).closest(".wpaw-item-selector"),r=i.find(".wpaw-item-selector__items");r.attr("data-offset",0),r.attr("data-failed","false"),r.empty(),setTimeout((()=>{t(i)}),2e3)})),document.addEventListener("scroll",(e=>{a()(e.target).hasClass("wpaw-item-selector__items")&&(a()(e.target).get(0).scrollHeight-a()(e.target).height()>a()(e.target).scrollTop()||t(a()(e.target).closest(".wpaw-item-selector")))}),!0)})),a()((()=>{a()(document).on("click",".wpaw-repeaters__add-repeater-btn",(e=>{e.preventDefault();const t=a()(e.currentTarget).closest(".wpaw-widget-form"),i=t.find(".wpaw-repeaters__item").first().clone(!0);i.find("input, select, textarea, button").each(((e,t)=>{a()(t).on("change",(()=>{const e=i.closest(".form, form");e.find(".widget-control-save").css("display","inline-block"),e.find(".widget-control-save").trigger("click")}))})),t.find(".wpaw-repeaters__items").append(i),t.find(".wpaw-repeaters__item").each(((e,t)=>{const i=e;a()(t).find("input, select, textarea, button").each(((e,t)=>{const r=a()(t);if(void 0===r.attr("name"))return!0;r.attr("name",a()(t).attr("name").replace(/\[\s*\d+\s*\](\[[^\[\]]+\])$/,"["+i+"]$1")),r.attr("id",a()(t).attr("id").replace(/\[\s*\d+\s*\](\[[^\[\]]+\])$/,"["+i+"]$1")),r.on("touchstart",(()=>{r.focus()}))}))})),a()(document).trigger("wpaw-repeaters-add-repeater",{repeater:i,widget:t})})),a()(document).on("click",".wpaw-repeaters__item-controls .button-link-delete",(e=>{e.preventDefault();const t=a()(e.currentTarget),i=t.closest(".form, form");t.closest(".wpaw-repeaters__item").remove(),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")})),a()(document).on("mouseover",".wpaw-repeaters__items",(e=>{a()(e.currentTarget).sortable()}))})),a()((()=>{a()(document).on("click",".wpaw-thumbnail-field__set-image-btn",(e=>{e.preventDefault();const t=a()(e.currentTarget),i=t.closest(".form, form"),r=t.closest(".wpaw-thumbnail-field"),n=wp.media({title:"Insert image",library:{type:"image"},button:{text:"Use this image"},multiple:!1});n.on("select",(()=>{const e=n.state().get("selection").first().toJSON(),t=void 0!==e.sizes.medium?e.sizes.medium.url:e.sizes.full.url,s=a()("<img/>").attr("src",t);r.find(".wpaw-thumbnail-field__thumbnail").empty().append(s),r.find(".wpaw-thumbnail-field__input-image").val(e.id),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")})).open()})),a()(document).on("click",".wpaw-thumbnail-field__unset-image-btn",(e=>{e.preventDefault();const t=a()(e.currentTarget),i=t.closest(".form, form"),r=t.closest(".wpaw-thumbnail-field");r.find(".wpaw-thumbnail-field__thumbnail").empty(),r.find(".wpaw-thumbnail-field__input-image").val(""),i.find(".widget-control-save").css("display","inline-block"),i.find(".widget-control-save").trigger("click")}))})),a()((()=>{a()(document).on("wpaw-repeaters-add-repeater",((e,t)=>{const a=t.repeater;a.find(".wpaw-thumbnail-field__thumbnail").empty(),a.find(".wpaw-thumbnail-field__input-image").val(""),a.find(".wpaw-pr-box-widget__input-title").val(""),a.find(".wpaw-pr-box-widget__input-summary").val("")}))})),a()((()=>{a()(document).on("wpaw-repeaters-add-repeater",((e,t)=>{const a=t.repeater;a.find(".wpaw-thumbnail-field__thumbnail").empty(),a.find(".wpaw-thumbnail-field__input-image").val("")})),a()(document).on("change",".js-wpaw-slider-widget-type",(e=>{const t=a()(e.currentTarget).closest(".wpaw-widget-form");"slide"===a()(e.currentTarget).val()?t.find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","false"):t.find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","true")})),a()('[id*="inc2734_wp_awesome_widgets_slider"]').on("click",(e=>{"slide"===a()(e.currentTarget).find(".js-wpaw-slider-widget-type").val()?a()(e.currentTarget).find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","false"):a()(e.currentTarget).find(".js-wpaw-slider-widget-only-slide").attr("aria-hidden","true")}))}))}();